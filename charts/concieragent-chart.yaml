# ═══════════════════════════════════════════════════════════════════════════
# Concieragent Deployment Values
# Use this file with the demos-deploy workflow
# ═══════════════════════════════════════════════════════════════════════════

# Chart source (OCI registry after first publish)
chartSource: oci://registry-1.docker.io/io2060/concieragent-chart
chartVersion: v1.0.0  # Update after first CI/CD run

# Global configuration
global:
  domain: demos.2060.io

# Application settings
name: concieragent
replicas: 1
containerPort: 4001

# Image configuration (updated by CI/CD)
image:
  repository: io2060/concieragent
  tag: latest
  pullPolicy: Always

# Ingress configuration
ingress:
  enabled: true
  className: nginx
  host: "concieragent.{{ .Values.global.domain }}"
  tlsSecret: "public.{{ .Values.name }}.{{ .Values.global.domain }}-cert"

# Environment configuration
env:
  vsAgentUrl: http://concieragent-vsa:3000
  llmProvider: openai

# Use existing Kubernetes secret for API keys
# Create this secret using the secrets-setup workflow
existingSecret: concieragent-api-keys

# Resource limits
resources:
  requests:
    memory: "512Mi"
    cpu: "250m"
  limits:
    memory: "2Gi"
    cpu: "1000m"

# VS Agent configuration
vs-agent-chart:
  enabled: true
  name: concieragent-vsa
  didcommLabel: "Concieragent"
  eventsBaseUrl: http://concieragent:4001
  didcommInvitationImageUrl: https://raw.githubusercontent.com/AirKyzzZ/concieragent-hologram-demo/refs/heads/feat-mcp-travel-assistant/logo.png
  
  ingress:
    host: "dm.concieragent.{{ .Values.global.domain }}"  # VS Agent DIDComm endpoint (internal)
    tlsSecret: "public.{{ .Values.name }}.{{ .Values.global.domain }}-cert"
    private:
      whitelistSourceRange: "0.0.0.0/0"
      host: "admin.concieragent.{{ .Values.global.domain }}"

  extraEnv:
    - name: AGENT_WALLET_ID
      value: "Concieragent"
    - name: AGENT_WALLET_KEY
      value: "Concieragent"
    - name: SELF_ISSUED_VTC_ORG_TYPE
      value: "PRIVATE"
    - name: SELF_ISSUED_VTC_ORG_COUNTRYCODE
      value: "EE"
    - name: SELF_ISSUED_VTC_ORG_ADDRESS
      value: "Ahtri tn 13 10152 Tallinn"
    - name: SELF_ISSUED_VTC_SERVICE_TYPE
      value: "Travel Assistant"
    - name: SELF_ISSUED_VTC_SERVICE_DESCRIPTION
      value: "AI-powered travel concierge for flight, hotel, and event planning"
    - name: SELF_ISSUED_VTC_SERVICE_MINIMUMAGEREQUIRED
      value: "1"
    - name: USE_CORS
      value: "true"
